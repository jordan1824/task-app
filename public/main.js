!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.querySelector(".form"),this.taskField=document.querySelector(".task-input"),this.taskList=document.querySelector(".task-list"),this.body=document.querySelector("body"),this.events()}var t,n,r;return t=e,(n=[{key:"events",value:function(){var e=this;this.form.addEventListener("submit",(function(t){return e.addTask(t)}))}},{key:"addTask",value:function(e){var t=this;e.preventDefault();var n=this.taskField.value;n&&fetch("/add-task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:n,sent:"async"})}).then((function(e){return e.json()})).then((function(e){e.task&&(t.taskField.value="",t.taskField.focus(),t.insertTaskHTML(e))})).catch((function(){this.errorAlert("Please try again later.")}))}},{key:"insertTaskHTML",value:function(e){this.taskList.querySelector(".task-item")?this.taskList.insertAdjacentHTML("beforeend",this.taskHTML(e)):this.taskList.innerHTML=this.taskHTML(e),this.taskList.lastChild.addEventListener("animationend",(function(){this.classList.remove("animation-reverse")}))}},{key:"taskHTML",value:function(e){return"<li class='task animation-reverse'>\n    <div class='link-container'>\n      <a class='check-link' href=\"/delete/".concat(e._id,'"><i class="fa check-btn fa-check" data-id="').concat(e._id,"\" aria-hidden=\"true\"></i></a>\n    </div>\n    <div class='task-item'>\n      <span class='task-text'>").concat(e.task,"</span>\n    </div>\n    <div class='btn-container'>\n      <a href=\"/edit/").concat(e._id,'" data-id="').concat(e._id,"\" class='edit-btn btn'>Edit</a>\n      <a href=\"/delete/").concat(e._id,'" data-id="').concat(e._id,"\" class='delete-btn btn'>Delete</a>\n    </div>\n    </li>")}},{key:"errorAlert",value:function(e){if(!document.querySelector(".error-alert"))return this.body.insertAdjacentHTML("afterbegin",this.alertHTML(e))}},{key:"alertHTML",value:function(e){return"<div class='error-alert'>\n      <h3 class='alert-heading'>Error:</h3>\n      <p class='alert-message'>".concat(e,"</p>\n      </div>")}}])&&a(t.prototype,n),r&&a(t,r),e}();function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events()}var t,n,a;return t=e,(n=[{key:"events",value:function(){}},{key:"errorAlert",value:function(e){if(!document.querySelector(".error-alert"))return this.body.insertAdjacentHTML("afterbegin",this.alertHTML(e))}},{key:"alertHTML",value:function(e){return"<div class='error-alert'>\n      <h3 class='alert-heading'>Error:</h3>\n      <p class='alert-message'>".concat(e,"</p>\n      </div>")}}])&&i(t.prototype,n),a&&i(t,a),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}document.querySelector(".task-input").addEventListener("keyup",(function(){document.querySelector(".task-input").value.length})),document.querySelector(".task-input").addEventListener("keydown",(function(){document.querySelector(".task-input").value.length<75&&document.querySelector(".alert").classList.remove("alert-show")}));var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.taskList=document.querySelector(".task-list"),this.events()}var t,n,a;return t=e,(n=[{key:"events",value:function(){var e=this;document.addEventListener("click",(function(t){e.deleteBtnAction(t),e.checkBtnAction(t),e.editBtnAction(t)}))}},{key:"deleteBtnAction",value:function(e){var t=this;if(e.target.classList.contains("delete-btn")&&(e.preventDefault(),confirm("Are you sure you want to delete this item?"))){var n=e.target.getAttribute("data-id");fetch("/delete/".concat(n)).then((function(){var n=e.target.parentElement.parentElement;n.classList.add("animation"),n.addEventListener("animationend",(function(){n.remove(),t.checkIfTasks()}))})).catch((function(){this.errorAlert("Please try again later.")}))}}},{key:"checkBtnAction",value:function(e){var t=this;if(e.target.classList.contains("check-link")&&e.preventDefault(),e.target.classList.contains("check-btn")){e.preventDefault();var n=e.target.getAttribute("data-id");fetch("/delete/".concat(n)).then((function(){var n=e.target.parentElement.parentElement.parentElement;n.classList.add("animation"),n.addEventListener("animationend",(function(){n.remove(),t.checkIfTasks()}))})).catch((function(){this.errorAlert("Please try again later.")}))}}},{key:"editBtnAction",value:function(e){if(e.target.classList.contains("edit-btn")){e.preventDefault();var t=e.target.parentElement.parentElement.querySelector(".task-text").innerHTML,n=prompt("Edit Your Task",t);if(n){var a=e.target.getAttribute("data-id"),r={task:n};fetch("/edit/".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.text()})).then((function(t){console.log(t),e.target.parentElement.parentElement.querySelector(".task-text").innerHTML=t})).catch((function(){alert("Please try again later.")}))}}}},{key:"checkIfTasks",value:function(){document.querySelector(".task")||(this.taskList.insertAdjacentHTML("beforeend",this.emptyTaskHTML()),document.querySelector(".empty-task").classList.add("empty-task--visible"))}},{key:"emptyTaskHTML",value:function(){return"<li class='task empty-task'>\n    <h3 class='empty-task-title'>You do not have any tasks.</h3>\n  </li>"}},{key:"errorAlert",value:function(e){if(!document.querySelector(".error-alert"))return this.body.insertAdjacentHTML("afterbegin",this.alertHTML(e))}},{key:"alertHTML",value:function(e){return"<div class='error-alert'>\n      <h3 class='alert-heading'>Error:</h3>\n      <p class='alert-message'>".concat(e,"</p>\n      </div>")}}])&&o(t.prototype,n),a&&o(t,a),e}();new r,new s,new c}]);